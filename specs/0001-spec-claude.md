# æ¢¦å¹»è¥¿æ¸¸äº¤æ˜“è´´å§ - éœ€æ±‚ä¸è®¾è®¡æ–‡æ¡£

> æ–‡æ¡£ç‰ˆæœ¬ï¼šv1.0
> åˆ›å»ºæ—¥æœŸï¼š2026-01-06
> é¡¹ç›®ä»£å·ï¼šMHXY-Trade

---

## ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#1-é¡¹ç›®æ¦‚è¿°)
2. [æŠ€æœ¯æ ˆ](#2-æŠ€æœ¯æ ˆ)
3. [åŠŸèƒ½éœ€æ±‚](#3-åŠŸèƒ½éœ€æ±‚)
4. [æ•°æ®æ¨¡å‹è®¾è®¡](#4-æ•°æ®æ¨¡å‹è®¾è®¡)
5. [API æ¥å£è®¾è®¡](#5-api-æ¥å£è®¾è®¡)
6. [é¡µé¢è®¾è®¡](#6-é¡µé¢è®¾è®¡)
7. [ç§¯åˆ†ç³»ç»Ÿè®¾è®¡](#7-ç§¯åˆ†ç³»ç»Ÿè®¾è®¡)
8. [å®¡æ ¸æµç¨‹è®¾è®¡](#8-å®¡æ ¸æµç¨‹è®¾è®¡)
9. [é€šçŸ¥ç³»ç»Ÿè®¾è®¡](#9-é€šçŸ¥ç³»ç»Ÿè®¾è®¡)
10. [å®‰å…¨è®¾è®¡](#10-å®‰å…¨è®¾è®¡)
11. [æ€§èƒ½ä¼˜åŒ–](#11-æ€§èƒ½ä¼˜åŒ–)

---

## 1. é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®èƒŒæ™¯

æœ¬é¡¹ç›®æ˜¯ä¸ºã€Šæ¢¦å¹»è¥¿æ¸¸ã€‹æ¸¸æˆç©å®¶è®¾è®¡çš„è£…å¤‡è´¦å·äº¤æ˜“å¹³å°ï¼Œé‡‡ç”¨è´´å§å½¢å¼ï¼Œè®©ç©å®¶å¯ä»¥å‘å¸ƒã€æµè§ˆã€æœç´¢äº¤æ˜“ä¿¡æ¯ï¼Œå¹¶é€šè¿‡å¹³å°è¿›è¡Œåˆæ­¥æ²Ÿé€šã€‚

### 1.2 é¡¹ç›®ç›®æ ‡

- æä¾›å®‰å…¨ã€ä¾¿æ·çš„æ¸¸æˆè£…å¤‡/è´¦å·äº¤æ˜“ä¿¡æ¯å‘å¸ƒå¹³å°
- æ”¯æŒå¤šç«¯è®¿é—®ï¼ˆH5ç§»åŠ¨ç«¯ã€PCç«¯ï¼‰
- æä¾›å®Œå–„çš„åå°ç®¡ç†å’Œå®¡æ ¸æœºåˆ¶
- å»ºç«‹ç§¯åˆ†æ¿€åŠ±ä½“ç³»ï¼Œä¿ƒè¿›ç”¨æˆ·æ´»è·ƒåº¦

### 1.3 ç”¨æˆ·è§’è‰²

| è§’è‰² | æè¿° |
|------|------|
| æ¸¸å®¢ | æœªç™»å½•ç”¨æˆ·ï¼Œå¯æµè§ˆå¸–å­åˆ—è¡¨å’Œè¯¦æƒ… |
| æ™®é€šç”¨æˆ· | å·²æ³¨å†Œç™»å½•ç”¨æˆ·ï¼Œå¯å‘å¸–ã€å›å¤ã€ç‚¹èµã€å…³æ³¨ã€è¯·æ±‚è”ç³»æ–¹å¼ |
| ç®¡ç†å‘˜ | åå°ç®¡ç†äººå‘˜ï¼Œè´Ÿè´£å†…å®¹å®¡æ ¸ã€ç”¨æˆ·ç®¡ç†ã€ç³»ç»Ÿé…ç½® |
| è¶…çº§ç®¡ç†å‘˜ | æ‹¥æœ‰å…¨éƒ¨æƒé™ï¼ŒåŒ…æ‹¬ç®¡ç†å‘˜è´¦å·ç®¡ç† |

---

## 2. æŠ€æœ¯æ ˆ

### 2.1 å‰ç«¯æŠ€æœ¯æ ˆ

#### ç§»åŠ¨ç«¯ (H5)
| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| React | ^19.2.0 | UI æ¡†æ¶ |
| Zustand | ^5.0.9 | çŠ¶æ€ç®¡ç† |
| Antd Mobile | ^5.41.1 | ç§»åŠ¨ç«¯ UI ç»„ä»¶åº“ |
| TailwindCSS | ^4.1.18 | CSS æ¡†æ¶ |
| Vite | ^7.2.4 | æ„å»ºå·¥å…· |
| React Query | ^5.90.12 | æœåŠ¡ç«¯çŠ¶æ€ç®¡ç† |
| React Router | ^7.x | è·¯ç”±ç®¡ç† |

#### PC ç«¯
| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| React | ^19.2.1 | UI æ¡†æ¶ |
| Next.js | ^16.0.10 | React å…¨æ ˆæ¡†æ¶ |
| Zustand | ^5.x | çŠ¶æ€ç®¡ç† |
| Ant Design | ^5.x | PC ç«¯ UI ç»„ä»¶åº“ |
| TailwindCSS | ^4.x | CSS æ¡†æ¶ |
| React Query | ^5.x | æœåŠ¡ç«¯çŠ¶æ€ç®¡ç† |

#### åå°ç®¡ç†ç³»ç»Ÿ
| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| React | ^19.2.1 | UI æ¡†æ¶ |
| Next.js | ^16.0.10 | React å…¨æ ˆæ¡†æ¶ |
| Zustand | ^5.x | çŠ¶æ€ç®¡ç† |
| Ant Design | ^5.x | PC ç«¯ UI ç»„ä»¶åº“ |
| TailwindCSS | ^4.x | CSS æ¡†æ¶ |
| React Query | ^5.x | æœåŠ¡ç«¯çŠ¶æ€ç®¡ç† |

### 2.2 å…¬å…±ä¾èµ–

| æŠ€æœ¯ | ç”¨é€” |
|------|------|
| TypeScript | ^5.9.x | ç±»å‹å®‰å…¨ |
| Axios | HTTP è¯·æ±‚ |
| Day.js | æ—¥æœŸå¤„ç† |
| Zod | è¡¨å•éªŒè¯ |
| Immer | ä¸å¯å˜æ•°æ®å¤„ç† |

---

## 3. åŠŸèƒ½éœ€æ±‚

### 3.1 ç”¨æˆ·æ¨¡å—

#### 3.1.1 æ³¨å†ŒåŠŸèƒ½

**åŠŸèƒ½æè¿°**ï¼šç”¨æˆ·é€šè¿‡æ‰‹æœºå·æ³¨å†Œè´¦å·

**ä¸šåŠ¡æµç¨‹**ï¼š
```
1. ç”¨æˆ·è¾“å…¥æ‰‹æœºå·
2. ç‚¹å‡»è·å–éªŒè¯ç 
3. ç³»ç»Ÿå‘é€çŸ­ä¿¡éªŒè¯ç ï¼ˆ60ç§’å€’è®¡æ—¶ï¼‰
4. ç”¨æˆ·è¾“å…¥éªŒè¯ç 
5. ç”¨æˆ·è®¾ç½®å¯†ç ï¼ˆ8-20ä½ï¼ŒåŒ…å«å­—æ¯å’Œæ•°å­—ï¼‰
6. ç”¨æˆ·åŒæ„ç”¨æˆ·åè®®
7. æäº¤æ³¨å†Œ
8. æ³¨å†ŒæˆåŠŸï¼Œè‡ªåŠ¨ç™»å½•
```

**è¾“å…¥å­—æ®µ**ï¼š
| å­—æ®µ | ç±»å‹ | å¿…å¡« | æ ¡éªŒè§„åˆ™ |
|------|------|------|----------|
| æ‰‹æœºå· | string | æ˜¯ | 11ä½æœ‰æ•ˆæ‰‹æœºå· |
| éªŒè¯ç  | string | æ˜¯ | 6ä½æ•°å­— |
| å¯†ç  | string | æ˜¯ | 8-20ä½ï¼ŒåŒ…å«å­—æ¯å’Œæ•°å­— |
| ç¡®è®¤å¯†ç  | string | æ˜¯ | ä¸å¯†ç ä¸€è‡´ |

**ç§¯åˆ†å¥–åŠ±**ï¼šæ³¨å†ŒæˆåŠŸ +100 ç§¯åˆ†

#### 3.1.2 ç™»å½•åŠŸèƒ½

**åŠŸèƒ½æè¿°**ï¼šæ”¯æŒå¯†ç ç™»å½•å’ŒéªŒè¯ç ç™»å½•

**å¯†ç ç™»å½•**ï¼š
- è¾“å…¥æ‰‹æœºå· + å¯†ç 
- è¿ç»­5æ¬¡é”™è¯¯é”å®š30åˆ†é’Ÿ

**éªŒè¯ç ç™»å½•**ï¼š
- è¾“å…¥æ‰‹æœºå·
- è·å–å¹¶è¾“å…¥éªŒè¯ç 

**ç™»å½•çŠ¶æ€**ï¼š
- Token æœ‰æ•ˆæœŸ 7 å¤©
- æ”¯æŒã€Œè®°ä½æˆ‘ã€å»¶é•¿è‡³ 30 å¤©
- å•è®¾å¤‡ç™»å½•ï¼ˆå¯é…ç½®å¤šè®¾å¤‡ï¼‰

#### 3.1.3 ä¸ªäººä¿¡æ¯ç®¡ç†

**å¯ä¿®æ”¹å­—æ®µ**ï¼š
| å­—æ®µ | è¯´æ˜ | é™åˆ¶ |
|------|------|------|
| å¤´åƒ | ç”¨æˆ·å¤´åƒ | æ”¯æŒ jpg/pngï¼Œæœ€å¤§ 2MB |
| æ˜µç§° | æ˜¾ç¤ºåç§° | 2-12 ä¸ªå­—ç¬¦ï¼Œä¸å¯é‡å¤ |
| ä¸ªäººç®€ä»‹ | è‡ªæˆ‘ä»‹ç» | æœ€å¤š 200 å­— |
| æ¸¸æˆæœåŠ¡å™¨ | æ‰€åœ¨æœåŠ¡å™¨ | ä»é¢„è®¾åˆ—è¡¨é€‰æ‹© |
| è”ç³»æ–¹å¼ | å¾®ä¿¡/QQç­‰ | åŠ å¯†å­˜å‚¨ï¼Œéœ€å®¡æ ¸é€šè¿‡åæ‰å¯è¢«æŸ¥çœ‹ |

**å¯†ç ä¿®æ”¹**ï¼š
- éœ€éªŒè¯åŸå¯†ç æˆ–æ‰‹æœºéªŒè¯ç 
- æ–°å¯†ç ä¸èƒ½ä¸æœ€è¿‘3æ¬¡å¯†ç ç›¸åŒ

### 3.2 å¸–å­æ¨¡å—

#### 3.2.1 å‘å¸ƒå¸–å­

**åŠŸèƒ½æè¿°**ï¼šç”¨æˆ·å‘å¸ƒè£…å¤‡/è´¦å·äº¤æ˜“ä¿¡æ¯

**å¸–å­ç±»å‹**ï¼š
| ç±»å‹ | è¯´æ˜ |
|------|------|
| å‡ºå”®è£…å¤‡ | å‡ºå”®æ¸¸æˆè£…å¤‡ |
| å‡ºå”®è´¦å· | å‡ºå”®æ¸¸æˆè´¦å· |
| å‡ºå”®å¬å”¤å…½ | å‡ºå”®æ¸¸æˆå¬å”¤å…½ |
| æ”¶è´­è£…å¤‡ | æ±‚è´­æ¸¸æˆè£…å¤‡ |
| æ”¶è´­è´¦å· | æ±‚è´­æ¸¸æˆè´¦å· |
| æ”¶è´­å¬å”¤å…½ | å‡ºå”®æ¸¸æˆå¬å”¤å…½ |

**å¸–å­å­—æ®µ**ï¼š
| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| æ ‡é¢˜ | string | æ˜¯ | 5-50 ä¸ªå­—ç¬¦ |
| ç±»å‹ | enum | æ˜¯ | å¸–å­ç±»å‹ |
| åˆ†ç±» | enum | æ˜¯ | è£…å¤‡åˆ†ç±»ï¼ˆæ­¦å™¨/é˜²å…·/é¥°å“/åéª‘ç­‰ï¼‰ |
| æ ‡ç­¾ | array | å¦ | æœ€å¤š 5 ä¸ªæ ‡ç­¾ |
| æœåŠ¡å™¨ | string | æ˜¯ | æ¸¸æˆæœåŠ¡å™¨ |
| ä»·æ ¼ | number | æ˜¯ | æœŸæœ›ä»·æ ¼ï¼ˆå…ƒï¼‰ |
| è¯¦æƒ… | richtext | æ˜¯ | å¯Œæ–‡æœ¬æè¿°ï¼Œæœ€å¤š 5000 å­— |
| å›¾ç‰‡ | array | å¦ | æœ€å¤š 9 å¼ å›¾ç‰‡ |

**å®¡æ ¸æµç¨‹**ï¼š
- å¸–å­å‘å¸ƒåè¿›å…¥å¾…å®¡æ ¸çŠ¶æ€
- ç®¡ç†å‘˜å®¡æ ¸é€šè¿‡åæ‰ä¼šå…¬å¼€æ˜¾ç¤º
- å®¡æ ¸ä¸é€šè¿‡éœ€è¯´æ˜åŸå› 

**ç§¯åˆ†æ¶ˆè€—**ï¼šå‘å¸ƒå¸–å­ -10 ç§¯åˆ†

#### 3.2.2 ç¼–è¾‘å¸–å­

**åŠŸèƒ½æè¿°**ï¼šç”¨æˆ·ç¼–è¾‘è‡ªå·±å‘å¸ƒçš„å¸–å­

**è§„åˆ™**ï¼š
- ä»…å¸–å­ä½œè€…å¯ç¼–è¾‘
- ç¼–è¾‘åéœ€é‡æ–°å®¡æ ¸
- ä¿ç•™ç¼–è¾‘å†å²è®°å½•

#### 3.2.3 å¸–å­å›å¤

**åŠŸèƒ½æè¿°**ï¼šå¸–å­ä½œè€…å¯ä»¥å›å¤è‡ªå·±çš„å¸–å­ï¼ˆç”¨äºè¡¥å……ä¿¡æ¯ï¼‰

**è§„åˆ™**ï¼š
- ä»…å¸–å­ä½œè€…å¯å›å¤
- å›å¤å†…å®¹éœ€å®¡æ ¸
- æ”¯æŒæ–‡å­—å’Œå›¾ç‰‡
- æ¯æ¡å›å¤æœ€å¤š 500 å­—ï¼Œ3 å¼ å›¾

**ç§¯åˆ†æ¶ˆè€—**ï¼šå›å¤å¸–å­ -5 ç§¯åˆ†

#### 3.2.4 å¸–å­çŠ¶æ€ç®¡ç†

**å¸–å­çŠ¶æ€**ï¼š
| çŠ¶æ€ | è¯´æ˜ |
|------|------|
| draft | è‰ç¨¿ |
| pending | å¾…å®¡æ ¸ |
| published | å·²å‘å¸ƒ |
| rejected | å·²æ‹’ç» |
| sold | å·²å”®å‡º |
| closed | å·²å…³é—­ |
| deleted | å·²åˆ é™¤ |

**çŠ¶æ€æµè½¬**ï¼š
```
draft â†’ pending â†’ published â†’ sold/closed
              â†“
           rejected â†’ pending (ä¿®æ”¹åé‡æ–°æäº¤)
```

### 3.3 æµè§ˆä¸äº’åŠ¨æ¨¡å—

#### 3.3.1 å¸–å­åˆ—è¡¨

**å±•ç¤ºå†…å®¹**ï¼š
- å¸–å­æ ‡é¢˜
- å¸–å­ç±»å‹æ ‡ç­¾
- åˆ†ç±»æ ‡ç­¾
- ä»·æ ¼
- æœåŠ¡å™¨
- å‘å¸ƒè€…ä¿¡æ¯ï¼ˆå¤´åƒã€æ˜µç§°ï¼‰
- å‘å¸ƒæ—¶é—´
- ç‚¹èµæ•°ã€å…³æ³¨æ•°
- ç¼©ç•¥å›¾ï¼ˆé¦–å›¾ï¼‰

**ç­›é€‰æ¡ä»¶**ï¼š
| ç­›é€‰é¡¹ | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| ç±»å‹ | å¤šé€‰ | å‡ºå”®/æ”¶è´­/è£…å¤‡/è´¦å· |
| åˆ†ç±» | å¤šé€‰ | æ­¦å™¨/é˜²å…·/é¥°å“ç­‰ |
| æœåŠ¡å™¨ | å•é€‰ | æ¸¸æˆæœåŠ¡å™¨ |
| ä»·æ ¼åŒºé—´ | èŒƒå›´ | æœ€ä½ä»·-æœ€é«˜ä»· |
| æ ‡ç­¾ | å¤šé€‰ | å¸–å­æ ‡ç­¾ |
| å…³é”®è¯ | æ–‡æœ¬ | æ ‡é¢˜/å†…å®¹æœç´¢ |

**æ’åºæ–¹å¼**ï¼š
- æœ€æ–°å‘å¸ƒï¼ˆé»˜è®¤ï¼‰
- æœ€å¤šç‚¹èµ
- æœ€å¤šå…³æ³¨
- ä»·æ ¼ä»ä½åˆ°é«˜
- ä»·æ ¼ä»é«˜åˆ°ä½

**åˆ†é¡µ**ï¼š
- ç§»åŠ¨ç«¯ï¼šæ— é™æ»šåŠ¨åŠ è½½
- PC ç«¯ï¼šåˆ†é¡µå¯¼èˆªï¼Œæ¯é¡µ 20 æ¡

#### 3.3.2 å¸–å­è¯¦æƒ…

**å±•ç¤ºå†…å®¹**ï¼š
- å®Œæ•´å¸–å­ä¿¡æ¯
- ä½œè€…ä¿¡æ¯åŠå…¶ä»–å¸–å­
- å›å¤åˆ—è¡¨
- ç‚¹èµ/å…³æ³¨æŒ‰é’®
- è¯·æ±‚è”ç³»æ–¹å¼å…¥å£

#### 3.3.3 ç‚¹èµåŠŸèƒ½

**åŠŸèƒ½æè¿°**ï¼šç”¨æˆ·å¯¹å¸–å­ç‚¹èµè¡¨ç¤ºæ„Ÿå…´è¶£

**è§„åˆ™**ï¼š
- æ¯ä¸ªç”¨æˆ·å¯¹åŒä¸€å¸–å­åªèƒ½ç‚¹èµä¸€æ¬¡
- æ”¯æŒå–æ¶ˆç‚¹èµ
- ç‚¹èµæ•°å®æ—¶æ›´æ–°

**ç§¯åˆ†å¥–åŠ±**ï¼šè¢«ç‚¹èµ +1 ç§¯åˆ†ï¼ˆæ¯æ—¥ä¸Šé™ 50ï¼‰

#### 3.3.4 å…³æ³¨åŠŸèƒ½

**åŠŸèƒ½æè¿°**ï¼šç”¨æˆ·å…³æ³¨æ„Ÿå…´è¶£çš„å¸–å­

**è§„åˆ™**ï¼š
- å…³æ³¨åå¯åœ¨ã€Œæˆ‘çš„å…³æ³¨ã€ä¸­æŸ¥çœ‹
- å¸–å­æœ‰æ›´æ–°æ—¶æ”¶åˆ°é€šçŸ¥
- æ”¯æŒå–æ¶ˆå…³æ³¨

### 3.4 è”ç³»æ–¹å¼ç”³è¯·æ¨¡å—

#### 3.4.1 ç”³è¯·è”ç³»æ–¹å¼

**åŠŸèƒ½æè¿°**ï¼šç”¨æˆ·ç”³è¯·è·å–å¸–å­ä½œè€…çš„è”ç³»æ–¹å¼

**ç”³è¯·æµç¨‹**ï¼š
```
1. ç”¨æˆ·ç‚¹å‡»ã€Œè·å–è”ç³»æ–¹å¼ã€
2. å¡«å†™ç”³è¯·ç•™è¨€ï¼ˆå¿…å¡«ï¼Œ10-200å­—ï¼‰
3. æäº¤ç”³è¯·ï¼ˆæ¶ˆè€—ç§¯åˆ†ï¼‰
4. ç³»ç»Ÿåˆ›å»ºå®¡æ ¸å·¥å•
5. ç®¡ç†å‘˜å®¡æ ¸
6. å®¡æ ¸é€šè¿‡ï¼šé€šçŸ¥å¸–å­ä½œè€…
7. ä½œè€…ç¡®è®¤ï¼šå‘ç”³è¯·è€…å±•ç¤ºè”ç³»æ–¹å¼
```

**å®¡æ ¸è¦ç‚¹**ï¼š
- ç•™è¨€å†…å®¹æ˜¯å¦åˆè§„
- æ˜¯å¦æœ‰æ¶æ„è¡Œä¸ºè®°å½•
- ç”³è¯·é¢‘ç‡æ˜¯å¦æ­£å¸¸

**ç§¯åˆ†æ¶ˆè€—**ï¼šç”³è¯·è”ç³»æ–¹å¼ -20 ç§¯åˆ†

#### 3.4.2 å¤„ç†è”ç³»æ–¹å¼ç”³è¯·

**åŠŸèƒ½æè¿°**ï¼šå¸–å­ä½œè€…å¤„ç†æ”¶åˆ°çš„è”ç³»æ–¹å¼ç”³è¯·

**æ“ä½œé€‰é¡¹**ï¼š
- åŒæ„ï¼šå‘ç”³è¯·è€…å±•ç¤ºè”ç³»æ–¹å¼
- æ‹’ç»ï¼šå¯å¡«å†™æ‹’ç»åŸå› 

**ç§¯åˆ†å¥–åŠ±**ï¼šç”³è¯·è¢«åŒæ„æ—¶ï¼Œä½œè€… +10 ç§¯åˆ†

### 3.5 é€šçŸ¥æ¨¡å—

#### 3.5.1 é€šçŸ¥ç±»å‹

| ç±»å‹ | è§¦å‘æ¡ä»¶ | é€šçŸ¥å†…å®¹ |
|------|----------|----------|
| ç³»ç»Ÿé€šçŸ¥ | ç³»ç»Ÿå…¬å‘Šã€æ´»åŠ¨ç­‰ | é€šçŸ¥æ ‡é¢˜å’Œå†…å®¹ |
| å®¡æ ¸é€šçŸ¥ | å¸–å­/å›å¤å®¡æ ¸ç»“æœ | å®¡æ ¸ç»“æœåŠåŸå›  |
| ç‚¹èµé€šçŸ¥ | å¸–å­è¢«ç‚¹èµ | ç‚¹èµè€…ä¿¡æ¯ |
| å…³æ³¨é€šçŸ¥ | å¸–å­è¢«å…³æ³¨ | å…³æ³¨è€…ä¿¡æ¯ |
| ç”³è¯·é€šçŸ¥ | æ”¶åˆ°è”ç³»æ–¹å¼ç”³è¯· | ç”³è¯·è€…ä¿¡æ¯å’Œç•™è¨€ |
| å›å¤é€šçŸ¥ | ç”³è¯·è¢«å¤„ç† | å¤„ç†ç»“æœ |
| ç§¯åˆ†é€šçŸ¥ | ç§¯åˆ†å˜åŠ¨ | å˜åŠ¨åŸå› å’Œé‡‘é¢ |

#### 3.5.2 é€šçŸ¥è®¾ç½®

ç”¨æˆ·å¯é…ç½®æ¥æ”¶å“ªäº›ç±»å‹çš„é€šçŸ¥ï¼š
- ç«™å†…ä¿¡ï¼ˆé»˜è®¤å¼€å¯ï¼Œä¸å¯å…³é—­ï¼‰
- çŸ­ä¿¡é€šçŸ¥ï¼ˆå¯é€‰ï¼‰
- æ¶ˆæ¯å…æ‰“æ‰°æ—¶æ®µ

### 3.6 ç§¯åˆ†æ¨¡å—

è¯¦è§ [7. ç§¯åˆ†ç³»ç»Ÿè®¾è®¡](#7-ç§¯åˆ†ç³»ç»Ÿè®¾è®¡)

---

## 4. æ•°æ®æ¨¡å‹è®¾è®¡

### 4.1 ç”¨æˆ·è¡¨ (users)

```sql
CREATE TABLE users (
    id              BIGINT PRIMARY KEY AUTO_INCREMENT,
    phone           VARCHAR(11) NOT NULL UNIQUE COMMENT 'æ‰‹æœºå·',
    password_hash   VARCHAR(255) NOT NULL COMMENT 'å¯†ç å“ˆå¸Œ',
    nickname        VARCHAR(24) COMMENT 'æ˜µç§°',
    avatar          VARCHAR(255) COMMENT 'å¤´åƒURL',
    bio             VARCHAR(400) COMMENT 'ä¸ªäººç®€ä»‹',
    game_server     VARCHAR(50) COMMENT 'æ¸¸æˆæœåŠ¡å™¨',
    contact_info    VARCHAR(255) COMMENT 'è”ç³»æ–¹å¼ï¼ˆåŠ å¯†å­˜å‚¨ï¼‰',
    points          INT DEFAULT 0 COMMENT 'ç§¯åˆ†ä½™é¢',
    status          ENUM('active', 'banned', 'deleted') DEFAULT 'active',
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at      DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    last_login_at   DATETIME COMMENT 'æœ€åç™»å½•æ—¶é—´',
    INDEX idx_phone (phone),
    INDEX idx_nickname (nickname),
    INDEX idx_status (status)
);
```

### 4.2 å¸–å­è¡¨ (posts)

```sql
CREATE TABLE posts (
    id              BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id         BIGINT NOT NULL COMMENT 'ä½œè€…ID',
    title           VARCHAR(100) NOT NULL COMMENT 'æ ‡é¢˜',
    type            ENUM('sell_equipment', 'sell_account', 'buy_equipment', 'buy_account') NOT NULL COMMENT 'å¸–å­ç±»å‹',
    category        VARCHAR(50) NOT NULL COMMENT 'åˆ†ç±»',
    game_server     VARCHAR(50) NOT NULL COMMENT 'æ¸¸æˆæœåŠ¡å™¨',
    price           DECIMAL(10, 2) NOT NULL COMMENT 'ä»·æ ¼',
    content         TEXT NOT NULL COMMENT 'è¯¦æƒ…å†…å®¹',
    images          JSON COMMENT 'å›¾ç‰‡åˆ—è¡¨',
    tags            JSON COMMENT 'æ ‡ç­¾åˆ—è¡¨',
    status          ENUM('draft', 'pending', 'published', 'rejected', 'sold', 'closed', 'deleted') DEFAULT 'draft',
    reject_reason   VARCHAR(500) COMMENT 'æ‹’ç»åŸå› ',
    view_count      INT DEFAULT 0 COMMENT 'æµè§ˆæ¬¡æ•°',
    like_count      INT DEFAULT 0 COMMENT 'ç‚¹èµæ•°',
    follow_count    INT DEFAULT 0 COMMENT 'å…³æ³¨æ•°',
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at      DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    published_at    DATETIME COMMENT 'å‘å¸ƒæ—¶é—´',
    FOREIGN KEY (user_id) REFERENCES users(id),
    INDEX idx_user_id (user_id),
    INDEX idx_status (status),
    INDEX idx_type (type),
    INDEX idx_category (category),
    INDEX idx_game_server (game_server),
    INDEX idx_created_at (created_at),
    FULLTEXT INDEX idx_fulltext (title, content)
);
```

### 4.3 å¸–å­å›å¤è¡¨ (post_replies)

```sql
CREATE TABLE post_replies (
    id              BIGINT PRIMARY KEY AUTO_INCREMENT,
    post_id         BIGINT NOT NULL COMMENT 'å¸–å­ID',
    user_id         BIGINT NOT NULL COMMENT 'å›å¤è€…IDï¼ˆä¸å¸–å­ä½œè€…ç›¸åŒï¼‰',
    content         VARCHAR(1000) NOT NULL COMMENT 'å›å¤å†…å®¹',
    images          JSON COMMENT 'å›¾ç‰‡åˆ—è¡¨',
    status          ENUM('pending', 'published', 'rejected', 'deleted') DEFAULT 'pending',
    reject_reason   VARCHAR(500) COMMENT 'æ‹’ç»åŸå› ',
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (post_id) REFERENCES posts(id),
    FOREIGN KEY (user_id) REFERENCES users(id),
    INDEX idx_post_id (post_id),
    INDEX idx_status (status)
);
```

### 4.4 ç‚¹èµè¡¨ (post_likes)

```sql
CREATE TABLE post_likes (
    id              BIGINT PRIMARY KEY AUTO_INCREMENT,
    post_id         BIGINT NOT NULL COMMENT 'å¸–å­ID',
    user_id         BIGINT NOT NULL COMMENT 'ç”¨æˆ·ID',
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (post_id) REFERENCES posts(id),
    FOREIGN KEY (user_id) REFERENCES users(id),
    UNIQUE KEY uk_post_user (post_id, user_id),
    INDEX idx_user_id (user_id)
);
```

### 4.5 å…³æ³¨è¡¨ (post_follows)

```sql
CREATE TABLE post_follows (
    id              BIGINT PRIMARY KEY AUTO_INCREMENT,
    post_id         BIGINT NOT NULL COMMENT 'å¸–å­ID',
    user_id         BIGINT NOT NULL COMMENT 'ç”¨æˆ·ID',
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (post_id) REFERENCES posts(id),
    FOREIGN KEY (user_id) REFERENCES users(id),
    UNIQUE KEY uk_post_user (post_id, user_id),
    INDEX idx_user_id (user_id)
);
```

### 4.6 è”ç³»æ–¹å¼ç”³è¯·è¡¨ (contact_requests)

```sql
CREATE TABLE contact_requests (
    id              BIGINT PRIMARY KEY AUTO_INCREMENT,
    post_id         BIGINT NOT NULL COMMENT 'å¸–å­ID',
    requester_id    BIGINT NOT NULL COMMENT 'ç”³è¯·è€…ID',
    owner_id        BIGINT NOT NULL COMMENT 'å¸–å­ä½œè€…ID',
    message         VARCHAR(400) NOT NULL COMMENT 'ç”³è¯·ç•™è¨€',
    audit_status    ENUM('pending', 'approved', 'rejected') DEFAULT 'pending' COMMENT 'å®¡æ ¸çŠ¶æ€',
    audit_reason    VARCHAR(500) COMMENT 'å®¡æ ¸è¯´æ˜',
    audited_at      DATETIME COMMENT 'å®¡æ ¸æ—¶é—´',
    audited_by      BIGINT COMMENT 'å®¡æ ¸äººID',
    owner_status    ENUM('pending', 'approved', 'rejected') COMMENT 'ä½œè€…å¤„ç†çŠ¶æ€',
    owner_reason    VARCHAR(500) COMMENT 'ä½œè€…å¤„ç†è¯´æ˜',
    owner_handled_at DATETIME COMMENT 'ä½œè€…å¤„ç†æ—¶é—´',
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (post_id) REFERENCES posts(id),
    FOREIGN KEY (requester_id) REFERENCES users(id),
    FOREIGN KEY (owner_id) REFERENCES users(id),
    INDEX idx_requester_id (requester_id),
    INDEX idx_owner_id (owner_id),
    INDEX idx_audit_status (audit_status),
    INDEX idx_owner_status (owner_status)
);
```

### 4.7 é€šçŸ¥è¡¨ (notifications)

```sql
CREATE TABLE notifications (
    id              BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id         BIGINT NOT NULL COMMENT 'æ¥æ”¶è€…ID',
    type            VARCHAR(50) NOT NULL COMMENT 'é€šçŸ¥ç±»å‹',
    title           VARCHAR(100) NOT NULL COMMENT 'é€šçŸ¥æ ‡é¢˜',
    content         TEXT COMMENT 'é€šçŸ¥å†…å®¹',
    related_id      BIGINT COMMENT 'å…³è”IDï¼ˆå¸–å­ID/ç”³è¯·IDç­‰ï¼‰',
    related_type    VARCHAR(50) COMMENT 'å…³è”ç±»å‹',
    is_read         BOOLEAN DEFAULT FALSE COMMENT 'æ˜¯å¦å·²è¯»',
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id),
    INDEX idx_user_id (user_id),
    INDEX idx_is_read (is_read),
    INDEX idx_type (type),
    INDEX idx_created_at (created_at)
);
```

### 4.8 ç§¯åˆ†è®°å½•è¡¨ (point_records)

```sql
CREATE TABLE point_records (
    id              BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id         BIGINT NOT NULL COMMENT 'ç”¨æˆ·ID',
    type            VARCHAR(50) NOT NULL COMMENT 'ç§¯åˆ†ç±»å‹',
    amount          INT NOT NULL COMMENT 'ç§¯åˆ†å˜åŠ¨ï¼ˆæ­£ä¸ºå¢åŠ ï¼Œè´Ÿä¸ºæ¶ˆè€—ï¼‰',
    balance         INT NOT NULL COMMENT 'å˜åŠ¨åä½™é¢',
    description     VARCHAR(200) COMMENT 'æè¿°',
    related_id      BIGINT COMMENT 'å…³è”ID',
    related_type    VARCHAR(50) COMMENT 'å…³è”ç±»å‹',
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id),
    INDEX idx_user_id (user_id),
    INDEX idx_type (type),
    INDEX idx_created_at (created_at)
);
```

### 4.9 ç®¡ç†å‘˜è¡¨ (admins)

```sql
CREATE TABLE admins (
    id              BIGINT PRIMARY KEY AUTO_INCREMENT,
    username        VARCHAR(50) NOT NULL UNIQUE COMMENT 'ç”¨æˆ·å',
    password_hash   VARCHAR(255) NOT NULL COMMENT 'å¯†ç å“ˆå¸Œ',
    nickname        VARCHAR(50) COMMENT 'æ˜µç§°',
    role            ENUM('admin', 'super_admin') DEFAULT 'admin' COMMENT 'è§’è‰²',
    status          ENUM('active', 'disabled') DEFAULT 'active',
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at      DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    last_login_at   DATETIME,
    INDEX idx_username (username),
    INDEX idx_role (role)
);
```

### 4.10 å®¡æ ¸æ—¥å¿—è¡¨ (audit_logs)

```sql
CREATE TABLE audit_logs (
    id              BIGINT PRIMARY KEY AUTO_INCREMENT,
    admin_id        BIGINT NOT NULL COMMENT 'å®¡æ ¸äººID',
    target_type     VARCHAR(50) NOT NULL COMMENT 'å®¡æ ¸å¯¹è±¡ç±»å‹',
    target_id       BIGINT NOT NULL COMMENT 'å®¡æ ¸å¯¹è±¡ID',
    action          ENUM('approve', 'reject') NOT NULL COMMENT 'å®¡æ ¸åŠ¨ä½œ',
    reason          VARCHAR(500) COMMENT 'å®¡æ ¸è¯´æ˜',
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (admin_id) REFERENCES admins(id),
    INDEX idx_admin_id (admin_id),
    INDEX idx_target (target_type, target_id),
    INDEX idx_created_at (created_at)
);
```

### 4.11 åˆ†ç±»é…ç½®è¡¨ (categories)

```sql
CREATE TABLE categories (
    id              BIGINT PRIMARY KEY AUTO_INCREMENT,
    name            VARCHAR(50) NOT NULL COMMENT 'åˆ†ç±»åç§°',
    parent_id       BIGINT COMMENT 'çˆ¶åˆ†ç±»ID',
    sort_order      INT DEFAULT 0 COMMENT 'æ’åº',
    is_active       BOOLEAN DEFAULT TRUE,
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_parent_id (parent_id),
    INDEX idx_sort_order (sort_order)
);
```

### 4.12 æ ‡ç­¾è¡¨ (tags)

```sql
CREATE TABLE tags (
    id              BIGINT PRIMARY KEY AUTO_INCREMENT,
    name            VARCHAR(50) NOT NULL UNIQUE COMMENT 'æ ‡ç­¾åç§°',
    use_count       INT DEFAULT 0 COMMENT 'ä½¿ç”¨æ¬¡æ•°',
    is_hot          BOOLEAN DEFAULT FALSE COMMENT 'æ˜¯å¦çƒ­é—¨',
    created_at      DATETIME DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_name (name),
    INDEX idx_use_count (use_count)
);
```

---

## 5. API æ¥å£è®¾è®¡

### 5.1 æ¥å£è§„èŒƒ

#### åŸºç¡€ä¿¡æ¯
- åŸºç¡€è·¯å¾„ï¼š`/api/v1`
- æ•°æ®æ ¼å¼ï¼šJSON
- å­—ç¬¦ç¼–ç ï¼šUTF-8
- è®¤è¯æ–¹å¼ï¼šBearer Token (JWT)

#### å“åº”æ ¼å¼

```typescript
// æˆåŠŸå“åº”
interface SuccessResponse<T> {
    code: 0;
    data: T;
    message: string;
}

// é”™è¯¯å“åº”
interface ErrorResponse {
    code: number;  // é0é”™è¯¯ç 
    message: string;
    details?: any;
}

// åˆ†é¡µå“åº”
interface PaginatedResponse<T> {
    code: 0;
    data: {
        list: T[];
        pagination: {
            page: number;
            pageSize: number;
            total: number;
            totalPages: number;
        };
    };
    message: string;
}
```

#### é”™è¯¯ç å®šä¹‰

| é”™è¯¯ç  | è¯´æ˜ |
|--------|------|
| 0 | æˆåŠŸ |
| 1001 | å‚æ•°é”™è¯¯ |
| 1002 | æ•°æ®ä¸å­˜åœ¨ |
| 1003 | æ•°æ®å·²å­˜åœ¨ |
| 2001 | æœªç™»å½• |
| 2002 | Token è¿‡æœŸ |
| 2003 | æ— æƒé™ |
| 2004 | è´¦å·è¢«ç¦ç”¨ |
| 3001 | éªŒè¯ç é”™è¯¯ |
| 3002 | éªŒè¯ç è¿‡æœŸ |
| 3003 | å‘é€è¿‡äºé¢‘ç¹ |
| 4001 | ç§¯åˆ†ä¸è¶³ |
| 5001 | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

### 5.2 ç”¨æˆ·æ¥å£

#### 5.2.1 å‘é€éªŒè¯ç 

```
POST /auth/sms/send

Request:
{
    "phone": "13800138000",
    "type": "register" | "login" | "reset_password"
}

Response:
{
    "code": 0,
    "data": {
        "expireIn": 300  // éªŒè¯ç æœ‰æ•ˆæœŸï¼ˆç§’ï¼‰
    },
    "message": "éªŒè¯ç å·²å‘é€"
}
```

#### 5.2.2 ç”¨æˆ·æ³¨å†Œ

```
POST /auth/register

Request:
{
    "phone": "13800138000",
    "code": "123456",
    "password": "password123"
}

Response:
{
    "code": 0,
    "data": {
        "token": "eyJhbGciOiJIUzI1NiIs...",
        "user": {
            "id": 1,
            "phone": "138****8000",
            "nickname": null,
            "avatar": null,
            "points": 100
        }
    },
    "message": "æ³¨å†ŒæˆåŠŸ"
}
```

#### 5.2.3 å¯†ç ç™»å½•

```
POST /auth/login/password

Request:
{
    "phone": "13800138000",
    "password": "password123",
    "rememberMe": true
}

Response:
{
    "code": 0,
    "data": {
        "token": "eyJhbGciOiJIUzI1NiIs...",
        "expiresIn": 2592000,  // Tokenæœ‰æ•ˆæœŸï¼ˆç§’ï¼‰
        "user": {
            "id": 1,
            "phone": "138****8000",
            "nickname": "ç©å®¶001",
            "avatar": "https://...",
            "points": 1500
        }
    },
    "message": "ç™»å½•æˆåŠŸ"
}
```

#### 5.2.4 éªŒè¯ç ç™»å½•

```
POST /auth/login/sms

Request:
{
    "phone": "13800138000",
    "code": "123456"
}

Response: åŒå¯†ç ç™»å½•
```

#### 5.2.5 è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯

```
GET /user/profile

Headers:
Authorization: Bearer <token>

Response:
{
    "code": 0,
    "data": {
        "id": 1,
        "phone": "138****8000",
        "nickname": "ç©å®¶001",
        "avatar": "https://...",
        "bio": "ä¸ªäººç®€ä»‹",
        "gameServer": "é•¿å®‰åŸ",
        "contactInfo": "å¾®ä¿¡ï¼šxxx",  // ä»…æœ¬äººå¯è§
        "points": 1500,
        "createdAt": "2024-01-01T00:00:00Z"
    },
    "message": "success"
}
```

#### 5.2.6 æ›´æ–°ç”¨æˆ·ä¿¡æ¯

```
PUT /user/profile

Headers:
Authorization: Bearer <token>

Request:
{
    "nickname": "æ–°æ˜µç§°",
    "avatar": "https://...",
    "bio": "æ–°çš„ä¸ªäººç®€ä»‹",
    "gameServer": "é•¿å®‰åŸ",
    "contactInfo": "å¾®ä¿¡ï¼šnewxxx"
}

Response:
{
    "code": 0,
    "data": { /* æ›´æ–°åçš„ç”¨æˆ·ä¿¡æ¯ */ },
    "message": "æ›´æ–°æˆåŠŸ"
}
```

#### 5.2.7 ä¿®æ”¹å¯†ç 

```
PUT /user/password

Headers:
Authorization: Bearer <token>

Request:
{
    "oldPassword": "oldpass123",
    "newPassword": "newpass123"
}
// æˆ–ä½¿ç”¨éªŒè¯ç æ–¹å¼
{
    "code": "123456",
    "newPassword": "newpass123"
}

Response:
{
    "code": 0,
    "data": null,
    "message": "å¯†ç ä¿®æ”¹æˆåŠŸ"
}
```

### 5.3 å¸–å­æ¥å£

#### 5.3.1 è·å–å¸–å­åˆ—è¡¨

```
GET /posts

Query Parameters:
- page: number (default: 1)
- pageSize: number (default: 20, max: 50)
- type: string (å¯é€‰ï¼Œå¸–å­ç±»å‹)
- category: string (å¯é€‰ï¼Œåˆ†ç±»)
- gameServer: string (å¯é€‰ï¼ŒæœåŠ¡å™¨)
- tags: string (å¯é€‰ï¼Œé€—å·åˆ†éš”çš„æ ‡ç­¾)
- priceMin: number (å¯é€‰ï¼Œæœ€ä½ä»·æ ¼)
- priceMax: number (å¯é€‰ï¼Œæœ€é«˜ä»·æ ¼)
- keyword: string (å¯é€‰ï¼Œæœç´¢å…³é”®è¯)
- sort: string (å¯é€‰ï¼Œæ’åºæ–¹å¼ï¼šlatest/likes/follows/price_asc/price_desc)

Response:
{
    "code": 0,
    "data": {
        "list": [
            {
                "id": 1,
                "title": "å‡ºå”®150çº§æ­¦å™¨",
                "type": "sell_equipment",
                "category": "æ­¦å™¨",
                "gameServer": "é•¿å®‰åŸ",
                "price": 5000,
                "thumbnail": "https://...",
                "tags": ["é«˜ä¼¤å®³", "æ»¡å®çŸ³"],
                "author": {
                    "id": 1,
                    "nickname": "ç©å®¶001",
                    "avatar": "https://..."
                },
                "likeCount": 100,
                "followCount": 50,
                "viewCount": 1000,
                "createdAt": "2024-01-01T00:00:00Z"
            }
        ],
        "pagination": {
            "page": 1,
            "pageSize": 20,
            "total": 100,
            "totalPages": 5
        }
    },
    "message": "success"
}
```

#### 5.3.2 è·å–å¸–å­è¯¦æƒ…

```
GET /posts/:id

Response:
{
    "code": 0,
    "data": {
        "id": 1,
        "title": "å‡ºå”®150çº§æ­¦å™¨",
        "type": "sell_equipment",
        "category": "æ­¦å™¨",
        "gameServer": "é•¿å®‰åŸ",
        "price": 5000,
        "content": "<p>è¯¦ç»†æè¿°...</p>",
        "images": ["https://...", "https://..."],
        "tags": ["é«˜ä¼¤å®³", "æ»¡å®çŸ³"],
        "status": "published",
        "author": {
            "id": 1,
            "nickname": "ç©å®¶001",
            "avatar": "https://...",
            "postCount": 10
        },
        "likeCount": 100,
        "followCount": 50,
        "viewCount": 1001,
        "isLiked": false,  // å½“å‰ç”¨æˆ·æ˜¯å¦ç‚¹èµ
        "isFollowed": false,  // å½“å‰ç”¨æˆ·æ˜¯å¦å…³æ³¨
        "replies": [
            {
                "id": 1,
                "content": "è¡¥å……ä¿¡æ¯...",
                "images": [],
                "createdAt": "2024-01-02T00:00:00Z"
            }
        ],
        "createdAt": "2024-01-01T00:00:00Z",
        "updatedAt": "2024-01-01T00:00:00Z"
    },
    "message": "success"
}
```

#### 5.3.3 åˆ›å»ºå¸–å­

```
POST /posts

Headers:
Authorization: Bearer <token>

Request:
{
    "title": "å‡ºå”®150çº§æ­¦å™¨",
    "type": "sell_equipment",
    "category": "æ­¦å™¨",
    "gameServer": "é•¿å®‰åŸ",
    "price": 5000,
    "content": "<p>è¯¦ç»†æè¿°...</p>",
    "images": ["https://...", "https://..."],
    "tags": ["é«˜ä¼¤å®³", "æ»¡å®çŸ³"],
    "isDraft": false  // trueä¸ºä¿å­˜è‰ç¨¿ï¼Œfalseä¸ºæäº¤å®¡æ ¸
}

Response:
{
    "code": 0,
    "data": {
        "id": 1,
        "status": "pending"
    },
    "message": "å¸–å­å·²æäº¤ï¼Œç­‰å¾…å®¡æ ¸"
}
```

#### 5.3.4 æ›´æ–°å¸–å­

```
PUT /posts/:id

Headers:
Authorization: Bearer <token>

Request: åŒåˆ›å»ºå¸–å­

Response:
{
    "code": 0,
    "data": {
        "id": 1,
        "status": "pending"
    },
    "message": "å¸–å­å·²æ›´æ–°ï¼Œç­‰å¾…å®¡æ ¸"
}
```

#### 5.3.5 åˆ é™¤å¸–å­

```
DELETE /posts/:id

Headers:
Authorization: Bearer <token>

Response:
{
    "code": 0,
    "data": null,
    "message": "åˆ é™¤æˆåŠŸ"
}
```

#### 5.3.6 æ›´æ–°å¸–å­çŠ¶æ€

```
PUT /posts/:id/status

Headers:
Authorization: Bearer <token>

Request:
{
    "status": "sold" | "closed"
}

Response:
{
    "code": 0,
    "data": null,
    "message": "çŠ¶æ€æ›´æ–°æˆåŠŸ"
}
```

#### 5.3.7 æ·»åŠ å›å¤

```
POST /posts/:id/replies

Headers:
Authorization: Bearer <token>

Request:
{
    "content": "è¡¥å……ä¿¡æ¯...",
    "images": ["https://..."]
}

Response:
{
    "code": 0,
    "data": {
        "id": 1,
        "status": "pending"
    },
    "message": "å›å¤å·²æäº¤ï¼Œç­‰å¾…å®¡æ ¸"
}
```

#### 5.3.8 ç‚¹èµ/å–æ¶ˆç‚¹èµ

```
POST /posts/:id/like

Headers:
Authorization: Bearer <token>

Response:
{
    "code": 0,
    "data": {
        "isLiked": true,
        "likeCount": 101
    },
    "message": "ç‚¹èµæˆåŠŸ"
}
```

#### 5.3.9 å…³æ³¨/å–æ¶ˆå…³æ³¨

```
POST /posts/:id/follow

Headers:
Authorization: Bearer <token>

Response:
{
    "code": 0,
    "data": {
        "isFollowed": true,
        "followCount": 51
    },
    "message": "å…³æ³¨æˆåŠŸ"
}
```

### 5.4 è”ç³»æ–¹å¼ç”³è¯·æ¥å£

#### 5.4.1 æäº¤ç”³è¯·

```
POST /contact-requests

Headers:
Authorization: Bearer <token>

Request:
{
    "postId": 1,
    "message": "æ‚¨å¥½ï¼Œæˆ‘å¯¹è¿™ä»¶è£…å¤‡å¾ˆæ„Ÿå…´è¶£..."
}

Response:
{
    "code": 0,
    "data": {
        "id": 1,
        "status": "pending"
    },
    "message": "ç”³è¯·å·²æäº¤ï¼Œç­‰å¾…å®¡æ ¸"
}
```

#### 5.4.2 è·å–æˆ‘çš„ç”³è¯·åˆ—è¡¨

```
GET /contact-requests/sent

Headers:
Authorization: Bearer <token>

Query Parameters:
- page: number
- pageSize: number
- status: string (å¯é€‰)

Response:
{
    "code": 0,
    "data": {
        "list": [
            {
                "id": 1,
                "post": {
                    "id": 1,
                    "title": "å‡ºå”®150çº§æ­¦å™¨",
                    "thumbnail": "https://..."
                },
                "message": "æ‚¨å¥½ï¼Œæˆ‘å¯¹è¿™ä»¶è£…å¤‡å¾ˆæ„Ÿå…´è¶£...",
                "auditStatus": "approved",
                "ownerStatus": "approved",
                "contactInfo": "å¾®ä¿¡ï¼šxxx",  // ä»…å½“ownerStatusä¸ºapprovedæ—¶è¿”å›
                "createdAt": "2024-01-01T00:00:00Z"
            }
        ],
        "pagination": { ... }
    },
    "message": "success"
}
```

#### 5.4.3 è·å–æ”¶åˆ°çš„ç”³è¯·åˆ—è¡¨

```
GET /contact-requests/received

Headers:
Authorization: Bearer <token>

Query Parameters:
- page: number
- pageSize: number
- status: string (å¯é€‰)

Response:
{
    "code": 0,
    "data": {
        "list": [
            {
                "id": 1,
                "post": {
                    "id": 1,
                    "title": "å‡ºå”®150çº§æ­¦å™¨"
                },
                "requester": {
                    "id": 2,
                    "nickname": "ä¹°å®¶001",
                    "avatar": "https://..."
                },
                "message": "æ‚¨å¥½ï¼Œæˆ‘å¯¹è¿™ä»¶è£…å¤‡å¾ˆæ„Ÿå…´è¶£...",
                "auditStatus": "approved",
                "ownerStatus": "pending",
                "createdAt": "2024-01-01T00:00:00Z"
            }
        ],
        "pagination": { ... }
    },
    "message": "success"
}
```

#### 5.4.4 å¤„ç†ç”³è¯·

```
PUT /contact-requests/:id/handle

Headers:
Authorization: Bearer <token>

Request:
{
    "action": "approve" | "reject",
    "reason": "æ‹’ç»åŸå› "  // ä»…æ‹’ç»æ—¶éœ€è¦
}

Response:
{
    "code": 0,
    "data": null,
    "message": "å¤„ç†æˆåŠŸ"
}
```

### 5.5 é€šçŸ¥æ¥å£

#### 5.5.1 è·å–é€šçŸ¥åˆ—è¡¨

```
GET /notifications

Headers:
Authorization: Bearer <token>

Query Parameters:
- page: number
- pageSize: number
- type: string (å¯é€‰)
- isRead: boolean (å¯é€‰)

Response:
{
    "code": 0,
    "data": {
        "list": [
            {
                "id": 1,
                "type": "like",
                "title": "æ”¶åˆ°æ–°ç‚¹èµ",
                "content": "ç”¨æˆ· xxx ç‚¹èµäº†ä½ çš„å¸–å­",
                "relatedId": 1,
                "relatedType": "post",
                "isRead": false,
                "createdAt": "2024-01-01T00:00:00Z"
            }
        ],
        "pagination": { ... },
        "unreadCount": 5
    },
    "message": "success"
}
```

#### 5.5.2 æ ‡è®°å·²è¯»

```
PUT /notifications/read

Headers:
Authorization: Bearer <token>

Request:
{
    "ids": [1, 2, 3]  // ç©ºæ•°ç»„è¡¨ç¤ºå…¨éƒ¨æ ‡è®°å·²è¯»
}

Response:
{
    "code": 0,
    "data": null,
    "message": "æ ‡è®°æˆåŠŸ"
}
```

#### 5.5.3 è·å–æœªè¯»æ•°é‡

```
GET /notifications/unread-count

Headers:
Authorization: Bearer <token>

Response:
{
    "code": 0,
    "data": {
        "total": 10,
        "byType": {
            "system": 2,
            "audit": 1,
            "like": 5,
            "follow": 2
        }
    },
    "message": "success"
}
```

### 5.6 ç§¯åˆ†æ¥å£

#### 5.6.1 è·å–ç§¯åˆ†è®°å½•

```
GET /points/records

Headers:
Authorization: Bearer <token>

Query Parameters:
- page: number
- pageSize: number
- type: string (å¯é€‰)

Response:
{
    "code": 0,
    "data": {
        "list": [
            {
                "id": 1,
                "type": "post_publish",
                "amount": -10,
                "balance": 90,
                "description": "å‘å¸ƒå¸–å­",
                "createdAt": "2024-01-01T00:00:00Z"
            }
        ],
        "pagination": { ... },
        "currentBalance": 90
    },
    "message": "success"
}
```

### 5.7 é€šç”¨æ¥å£

#### 5.7.1 ä¸Šä¼ å›¾ç‰‡

```
POST /upload/image

Headers:
Authorization: Bearer <token>
Content-Type: multipart/form-data

Body:
- file: å›¾ç‰‡æ–‡ä»¶

Response:
{
    "code": 0,
    "data": {
        "url": "https://...",
        "thumbnail": "https://..."
    },
    "message": "ä¸Šä¼ æˆåŠŸ"
}
```

#### 5.7.2 è·å–åˆ†ç±»åˆ—è¡¨

```
GET /categories

Response:
{
    "code": 0,
    "data": [
        {
            "id": 1,
            "name": "æ­¦å™¨",
            "children": [
                { "id": 11, "name": "æ³•æ–" },
                { "id": 12, "name": "å‰‘" }
            ]
        }
    ],
    "message": "success"
}
```

#### 5.7.3 è·å–çƒ­é—¨æ ‡ç­¾

```
GET /tags/hot

Query Parameters:
- limit: number (default: 20)

Response:
{
    "code": 0,
    "data": [
        { "id": 1, "name": "æ»¡å®çŸ³", "count": 100 },
        { "id": 2, "name": "é«˜ä¼¤å®³", "count": 80 }
    ],
    "message": "success"
}
```

#### 5.7.4 è·å–æœåŠ¡å™¨åˆ—è¡¨

```
GET /game-servers

Response:
{
    "code": 0,
    "data": [
        { "id": "changancheng", "name": "é•¿å®‰åŸ" },
        { "id": "jiangnan", "name": "æ±Ÿå—" }
    ],
    "message": "success"
}
```

### 5.8 åå°ç®¡ç†æ¥å£

#### 5.8.1 ç®¡ç†å‘˜ç™»å½•

```
POST /admin/auth/login

Request:
{
    "username": "admin",
    "password": "password123"
}

Response:
{
    "code": 0,
    "data": {
        "token": "eyJhbGciOiJIUzI1NiIs...",
        "admin": {
            "id": 1,
            "username": "admin",
            "nickname": "ç®¡ç†å‘˜",
            "role": "super_admin"
        }
    },
    "message": "ç™»å½•æˆåŠŸ"
}
```

#### 5.8.2 è·å–å¾…å®¡æ ¸åˆ—è¡¨

```
GET /admin/audit/pending

Headers:
Authorization: Bearer <admin_token>

Query Parameters:
- type: "post" | "reply" | "contact_request"
- page: number
- pageSize: number

Response:
{
    "code": 0,
    "data": {
        "list": [
            {
                "id": 1,
                "type": "post",
                "content": { /* å¸–å­/å›å¤/ç”³è¯·è¯¦æƒ… */ },
                "submitter": {
                    "id": 1,
                    "nickname": "ç”¨æˆ·001"
                },
                "createdAt": "2024-01-01T00:00:00Z"
            }
        ],
        "pagination": { ... },
        "pendingCount": {
            "post": 10,
            "reply": 5,
            "contactRequest": 3
        }
    },
    "message": "success"
}
```

#### 5.8.3 å®¡æ ¸æ“ä½œ

```
POST /admin/audit/:type/:id

Headers:
Authorization: Bearer <admin_token>

Request:
{
    "action": "approve" | "reject",
    "reason": "æ‹’ç»åŸå› "
}

Response:
{
    "code": 0,
    "data": null,
    "message": "å®¡æ ¸å®Œæˆ"
}
```

#### 5.8.4 ç”¨æˆ·ç®¡ç†

```
GET /admin/users
PUT /admin/users/:id/status
GET /admin/users/:id/detail
```

#### 5.8.5 å¸–å­ç®¡ç†

```
GET /admin/posts
PUT /admin/posts/:id/status
DELETE /admin/posts/:id
```

#### 5.8.6 æ•°æ®ç»Ÿè®¡

```
GET /admin/statistics/overview

Response:
{
    "code": 0,
    "data": {
        "users": {
            "total": 10000,
            "today": 50,
            "activeToday": 500
        },
        "posts": {
            "total": 5000,
            "today": 100,
            "pending": 20
        },
        "audit": {
            "pendingPosts": 20,
            "pendingReplies": 10,
            "pendingRequests": 5
        }
    },
    "message": "success"
}
```

---

## 6. é¡µé¢è®¾è®¡

### 6.1 ç§»åŠ¨ç«¯ (H5) é¡µé¢ç»“æ„

```
â”œâ”€â”€ é¦–é¡µ (/)
â”‚   â”œâ”€â”€ é¡¶éƒ¨æœç´¢æ 
â”‚   â”œâ”€â”€ åˆ†ç±»å¿«æ·å…¥å£
â”‚   â”œâ”€â”€ å¸–å­åˆ—è¡¨ï¼ˆç€‘å¸ƒæµ/å¡ç‰‡å¼ï¼‰
â”‚   â””â”€â”€ åº•éƒ¨å¯¼èˆªæ 
â”‚
â”œâ”€â”€ æœç´¢é¡µ (/search)
â”‚   â”œâ”€â”€ æœç´¢æ¡†
â”‚   â”œâ”€â”€ ç­›é€‰æ¡ä»¶
â”‚   â”œâ”€â”€ æœç´¢å†å²
â”‚   â””â”€â”€ æœç´¢ç»“æœ
â”‚
â”œâ”€â”€ å¸–å­è¯¦æƒ…é¡µ (/post/:id)
â”‚   â”œâ”€â”€ å¸–å­ä¿¡æ¯
â”‚   â”œâ”€â”€ ä½œè€…ä¿¡æ¯
â”‚   â”œâ”€â”€ å›¾ç‰‡è½®æ’­
â”‚   â”œâ”€â”€ å›å¤åˆ—è¡¨
â”‚   â””â”€â”€ åº•éƒ¨æ“ä½œæ ï¼ˆç‚¹èµ/å…³æ³¨/è·å–è”ç³»æ–¹å¼ï¼‰
â”‚
â”œâ”€â”€ å‘å¸ƒå¸–å­é¡µ (/post/create)
â”‚   â”œâ”€â”€ è¡¨å•å­—æ®µ
â”‚   â”œâ”€â”€ å›¾ç‰‡ä¸Šä¼ 
â”‚   â””â”€â”€ æäº¤/ä¿å­˜è‰ç¨¿
â”‚
â”œâ”€â”€ ç¼–è¾‘å¸–å­é¡µ (/post/:id/edit)
â”‚   â””â”€â”€ åŒå‘å¸ƒå¸–å­é¡µ
â”‚
â”œâ”€â”€ æˆ‘çš„é¡µé¢ (/mine)
â”‚   â”œâ”€â”€ ä¸ªäººä¿¡æ¯
â”‚   â”œâ”€â”€ æˆ‘çš„å¸–å­
â”‚   â”œâ”€â”€ æˆ‘çš„å…³æ³¨
â”‚   â”œâ”€â”€ è”ç³»æ–¹å¼ç”³è¯·
â”‚   â”œâ”€â”€ é€šçŸ¥æ¶ˆæ¯
â”‚   â””â”€â”€ è®¾ç½®
â”‚
â”œâ”€â”€ ä¸ªäººä¿¡æ¯ç¼–è¾‘é¡µ (/mine/profile)
â”‚
â”œâ”€â”€ æˆ‘çš„å¸–å­é¡µ (/mine/posts)
â”‚
â”œâ”€â”€ æˆ‘çš„å…³æ³¨é¡µ (/mine/follows)
â”‚
â”œâ”€â”€ è”ç³»æ–¹å¼ç”³è¯·é¡µ (/mine/contact-requests)
â”‚   â”œâ”€â”€ æˆ‘å‘å‡ºçš„
â”‚   â””â”€â”€ æˆ‘æ”¶åˆ°çš„
â”‚
â”œâ”€â”€ é€šçŸ¥é¡µé¢ (/notifications)
â”‚
â”œâ”€â”€ ç™»å½•é¡µ (/login)
â”‚
â”œâ”€â”€ æ³¨å†Œé¡µ (/register)
â”‚
â””â”€â”€ è®¾ç½®é¡µ (/settings)
    â”œâ”€â”€ é€šçŸ¥è®¾ç½®
    â”œâ”€â”€ è´¦å·å®‰å…¨
    â””â”€â”€ å…³äºæˆ‘ä»¬
```

### 6.2 PC ç«¯é¡µé¢ç»“æ„

```
â”œâ”€â”€ é¦–é¡µ (/)
â”‚   â”œâ”€â”€ é¡¶éƒ¨å¯¼èˆªæ ï¼ˆLogoã€æœç´¢ã€ç”¨æˆ·ä¿¡æ¯ï¼‰
â”‚   â”œâ”€â”€ ä¾§è¾¹åˆ†ç±»æ 
â”‚   â”œâ”€â”€ å¸–å­åˆ—è¡¨ï¼ˆåˆ—è¡¨å¼/å¡ç‰‡å¼åˆ‡æ¢ï¼‰
â”‚   â””â”€â”€ å³ä¾§æ¨è/çƒ­é—¨
â”‚
â”œâ”€â”€ å¸–å­è¯¦æƒ…é¡µ (/post/:id)
â”‚   â”œâ”€â”€ å·¦ä¾§å¸–å­å†…å®¹
â”‚   â””â”€â”€ å³ä¾§ä½œè€…ä¿¡æ¯/ç›¸å…³æ¨è
â”‚
â”œâ”€â”€ å‘å¸ƒå¸–å­é¡µ (/post/create)
â”‚
â”œâ”€â”€ ä¸ªäººä¸­å¿ƒ (/user)
â”‚   â”œâ”€â”€ ä¸ªäººä¿¡æ¯
â”‚   â”œâ”€â”€ æˆ‘çš„å¸–å­
â”‚   â”œâ”€â”€ æˆ‘çš„å…³æ³¨
â”‚   â”œâ”€â”€ è”ç³»æ–¹å¼ç”³è¯·
â”‚   â”œâ”€â”€ ç§¯åˆ†è®°å½•
â”‚   â””â”€â”€ è´¦å·è®¾ç½®
â”‚
â”œâ”€â”€ é€šçŸ¥ä¸­å¿ƒ (/notifications)
â”‚
â”œâ”€â”€ ç™»å½•/æ³¨å†Œå¼¹çª—
â”‚
â””â”€â”€ ç”¨æˆ·ä¸»é¡µ (/user/:id)
```

### 6.3 åå°ç®¡ç†ç³»ç»Ÿé¡µé¢ç»“æ„

```
â”œâ”€â”€ ç™»å½•é¡µ (/login)
â”‚
â”œâ”€â”€ ä»ªè¡¨ç›˜ (/dashboard)
â”‚   â”œâ”€â”€ æ•°æ®æ¦‚è§ˆ
â”‚   â”œâ”€â”€ å¾…åŠäº‹é¡¹
â”‚   â””â”€â”€ ç»Ÿè®¡å›¾è¡¨
â”‚
â”œâ”€â”€ å®¡æ ¸ç®¡ç† (/audit)
â”‚   â”œâ”€â”€ å¸–å­å®¡æ ¸ (/audit/posts)
â”‚   â”œâ”€â”€ å›å¤å®¡æ ¸ (/audit/replies)
â”‚   â””â”€â”€ è”ç³»ç”³è¯·å®¡æ ¸ (/audit/contacts)
â”‚
â”œâ”€â”€ å¸–å­ç®¡ç† (/posts)
â”‚   â”œâ”€â”€ å¸–å­åˆ—è¡¨
â”‚   â””â”€â”€ å¸–å­è¯¦æƒ…
â”‚
â”œâ”€â”€ ç”¨æˆ·ç®¡ç† (/users)
â”‚   â”œâ”€â”€ ç”¨æˆ·åˆ—è¡¨
â”‚   â””â”€â”€ ç”¨æˆ·è¯¦æƒ…
â”‚
â”œâ”€â”€ å†…å®¹ç®¡ç† (/content)
â”‚   â”œâ”€â”€ åˆ†ç±»ç®¡ç† (/content/categories)
â”‚   â”œâ”€â”€ æ ‡ç­¾ç®¡ç† (/content/tags)
â”‚   â””â”€â”€ æœåŠ¡å™¨é…ç½® (/content/servers)
â”‚
â”œâ”€â”€ ç³»ç»Ÿç®¡ç† (/system)
â”‚   â”œâ”€â”€ ç®¡ç†å‘˜ç®¡ç† (/system/admins)
â”‚   â”œâ”€â”€ ç§¯åˆ†é…ç½® (/system/points)
â”‚   â””â”€â”€ ç³»ç»Ÿè®¾ç½® (/system/settings)
â”‚
â””â”€â”€ æ“ä½œæ—¥å¿— (/logs)
```

### 6.4 æ ¸å¿ƒé¡µé¢åŸå‹è¯´æ˜

#### 6.4.1 å¸–å­å¡ç‰‡ç»„ä»¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [å›¾ç‰‡ç¼©ç•¥å›¾]                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å‡ºå”®150çº§é«˜ä¼¤å®³å‰‘                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚ â”‚å‡ºå”®â”‚ â”‚æ­¦å™¨â”‚ â”‚æ»¡å®çŸ³  â”‚           â”‚
â”‚ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚ Â¥5,000                  é•¿å®‰åŸ     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [å¤´åƒ] ç©å®¶001    â¤ 100  â˜… 50      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 6.4.2 å¸–å­è¯¦æƒ…é¡µå¸ƒå±€

**ç§»åŠ¨ç«¯**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† å¸–å­è¯¦æƒ…                    â‹®    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â”‚         å›¾ç‰‡è½®æ’­åŒºåŸŸ            â”‚ â”‚
â”‚ â”‚                                 â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ å‡ºå”®150çº§é«˜ä¼¤å®³å‰‘                   â”‚
â”‚ Â¥5,000                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚ â”‚å‡ºå”®â”‚ â”‚æ­¦å™¨â”‚ â”‚æ»¡å®çŸ³  â”‚           â”‚
â”‚ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                     â”‚
â”‚ æœåŠ¡å™¨ï¼šé•¿å®‰åŸ                      â”‚
â”‚ å‘å¸ƒæ—¶é—´ï¼š2024-01-01                â”‚
â”‚                                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ è¯¦ç»†æè¿°                            â”‚
â”‚ è¿™æ˜¯ä¸€æŠŠé«˜ä¼¤å®³çš„å‰‘ï¼Œå±æ€§å¦‚ä¸‹...     â”‚
â”‚                                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ä½œè€…è¡¥å…… (2)                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ä»·æ ¼å¯å°åˆ€...                   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â¤ ç‚¹èµ   â˜… å…³æ³¨   ğŸ“± è·å–è”ç³»æ–¹å¼  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. ç§¯åˆ†ç³»ç»Ÿè®¾è®¡

### 7.1 ç§¯åˆ†è·å–è§„åˆ™

| è¡Œä¸º | ç§¯åˆ† | è¯´æ˜ | æ¯æ—¥ä¸Šé™ |
|------|------|------|----------|
| æ–°ç”¨æˆ·æ³¨å†Œ | +100 | æ³¨å†Œå¥–åŠ± | - |
| æ¯æ—¥ç™»å½• | +10 | æ¯æ—¥é¦–æ¬¡ç™»å½• | 10 |
| è¿ç»­ç™»å½•7å¤© | +50 | é¢å¤–å¥–åŠ± | - |
| å¸–å­è¢«ç‚¹èµ | +1 | æ¯è¢«ç‚¹èµä¸€æ¬¡ | 50 |
| å¸–å­è¢«å…³æ³¨ | +2 | æ¯è¢«å…³æ³¨ä¸€æ¬¡ | 100 |
| è”ç³»ç”³è¯·è¢«åŒæ„ | +10 | æ¯æ¬¡ | æ— é™åˆ¶ |
| å®Œå–„ä¸ªäººèµ„æ–™ | +50 | é¦–æ¬¡å®Œå–„ | - |

### 7.2 ç§¯åˆ†æ¶ˆè€—è§„åˆ™

| è¡Œä¸º | ç§¯åˆ† | è¯´æ˜ |
|------|------|------|
| å‘å¸ƒå¸–å­ | -10 | æ¯æ¬¡å‘å¸ƒ |
| å›å¤å¸–å­ | -5 | æ¯æ¬¡å›å¤ |
| ç”³è¯·è”ç³»æ–¹å¼ | -20 | æ¯æ¬¡ç”³è¯· |
| ç½®é¡¶å¸–å­ | -100 | ç½®é¡¶1å¤©ï¼ˆé¢„ç•™åŠŸèƒ½ï¼‰ |

### 7.3 ç§¯åˆ†ç­‰çº§ï¼ˆé¢„ç•™ï¼‰

| ç­‰çº§ | åç§° | æ‰€éœ€ç§¯åˆ† | ç‰¹æƒ |
|------|------|----------|------|
| Lv.1 | æ–°æ‰‹ç©å®¶ | 0 | åŸºç¡€åŠŸèƒ½ |
| Lv.2 | åˆçº§ç©å®¶ | 500 | å‘å¸–ç§¯åˆ†å‡åŠ |
| Lv.3 | ä¸­çº§ç©å®¶ | 2000 | ç”³è¯·è”ç³»æ–¹å¼ç§¯åˆ†å‡åŠ |
| Lv.4 | é«˜çº§ç©å®¶ | 5000 | ä¸“å±æ ‡è¯† |
| Lv.5 | èµ„æ·±ç©å®¶ | 10000 | ä¼˜å…ˆå®¡æ ¸ |

### 7.4 é˜²ä½œå¼Šæœºåˆ¶

- åŒä¸€ç”¨æˆ·å¯¹åŒä¸€å¸–å­çš„ç‚¹èµ/å…³æ³¨åªè®¡ç®—ä¸€æ¬¡
- æ¯æ—¥ç§¯åˆ†è·å–æœ‰ä¸Šé™
- å¼‚å¸¸è¡Œä¸ºæ£€æµ‹ï¼ˆé¢‘ç¹æ³¨é”€é‡æ³¨å†Œã€æ‰¹é‡ç‚¹èµç­‰ï¼‰
- ç§¯åˆ†å˜åŠ¨æ—¥å¿—å®Œæ•´è®°å½•

---

## 8. å®¡æ ¸æµç¨‹è®¾è®¡

### 8.1 å®¡æ ¸å¯¹è±¡

| ç±»å‹ | å®¡æ ¸å†…å®¹ | å®¡æ ¸è¦ç‚¹ |
|------|----------|----------|
| å¸–å­ | æ ‡é¢˜ã€å†…å®¹ã€å›¾ç‰‡ | åˆè§„æ€§ã€çœŸå®æ€§ã€æ•æ„Ÿè¯ |
| å›å¤ | å›å¤å†…å®¹ã€å›¾ç‰‡ | åˆè§„æ€§ã€æ•æ„Ÿè¯ |
| è”ç³»ç”³è¯· | ç”³è¯·ç•™è¨€ | åˆè§„æ€§ã€æ¶æ„è¡Œä¸º |
| ç”¨æˆ·ä¿¡æ¯ | æ˜µç§°ã€å¤´åƒã€ç®€ä»‹ | åˆè§„æ€§ã€æ•æ„Ÿè¯ |

### 8.2 å®¡æ ¸çŠ¶æ€æµè½¬

```
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  pending  â”‚
            â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                  â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼                 â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ approved  â”‚     â”‚ rejected  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼ (ç”¨æˆ·ä¿®æ”¹åé‡æ–°æäº¤)
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚  pending  â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.3 å®¡æ ¸è§„åˆ™

#### è‡ªåŠ¨å®¡æ ¸ï¼ˆé¢„å®¡ï¼‰
- æ•æ„Ÿè¯è¿‡æ»¤
- å›¾ç‰‡è¿è§„æ£€æµ‹ï¼ˆæ¥å…¥ç¬¬ä¸‰æ–¹æœåŠ¡ï¼‰
- ç”¨æˆ·è¡Œä¸ºé£æ§è¯„åˆ†

#### äººå·¥å®¡æ ¸
- æŸ¥çœ‹å®Œæ•´å†…å®¹
- æŸ¥çœ‹ç”¨æˆ·å†å²è®°å½•
- åšå‡ºå®¡æ ¸å†³å®š
- è®°å½•å®¡æ ¸åŸå› 

### 8.4 å®¡æ ¸æ•ˆç‡ä¼˜åŒ–

- æŒ‰ä¼˜å…ˆçº§æ’åºï¼ˆæ–°ç”¨æˆ·ã€é«˜é£é™©ç”¨æˆ·ä¼˜å…ˆï¼‰
- æ‰¹é‡å®¡æ ¸åŠŸèƒ½
- å¿«æ·é”®æ“ä½œ
- å®¡æ ¸æ¨¡æ¿

---

## 9. é€šçŸ¥ç³»ç»Ÿè®¾è®¡

### 9.1 é€šçŸ¥æ¸ é“

| æ¸ é“ | è¯´æ˜ | é»˜è®¤çŠ¶æ€ |
|------|------|----------|
| ç«™å†…ä¿¡ | åº”ç”¨å†…é€šçŸ¥ | å¼€å¯ï¼ˆä¸å¯å…³é—­ï¼‰ |
| çŸ­ä¿¡ | é‡è¦é€šçŸ¥ | å¯é€‰ |
| æ¨é€ | App æ¨é€ï¼ˆé¢„ç•™ï¼‰ | å¯é€‰ |

### 9.2 é€šçŸ¥è§¦å‘æ—¶æœº

| äº‹ä»¶ | é€šçŸ¥å¯¹è±¡ | é€šçŸ¥å†…å®¹ |
|------|----------|----------|
| å¸–å­å®¡æ ¸é€šè¿‡ | å¸–å­ä½œè€… | æ‚¨çš„å¸–å­å·²å‘å¸ƒ |
| å¸–å­å®¡æ ¸æ‹’ç» | å¸–å­ä½œè€… | å®¡æ ¸æœªé€šè¿‡åŠåŸå›  |
| æ”¶åˆ°ç‚¹èµ | å¸–å­ä½œè€… | xxx ç‚¹èµäº†æ‚¨çš„å¸–å­ |
| æ”¶åˆ°å…³æ³¨ | å¸–å­ä½œè€… | xxx å…³æ³¨äº†æ‚¨çš„å¸–å­ |
| æ”¶åˆ°è”ç³»ç”³è¯· | å¸–å­ä½œè€… | æœ‰äººç”³è¯·æ‚¨çš„è”ç³»æ–¹å¼ |
| ç”³è¯·è¢«åŒæ„ | ç”³è¯·è€… | æ‚¨çš„ç”³è¯·å·²é€šè¿‡ |
| ç”³è¯·è¢«æ‹’ç» | ç”³è¯·è€… | æ‚¨çš„ç”³è¯·æœªé€šè¿‡ |
| ç§¯åˆ†å˜åŠ¨ | ç”¨æˆ· | ç§¯åˆ†å˜åŠ¨é€šçŸ¥ |

### 9.3 é€šçŸ¥åˆå¹¶ç­–ç•¥

- çŸ­æ—¶é—´å†…å¤šæ¬¡ç›¸åŒç±»å‹é€šçŸ¥åˆå¹¶
  - ä¾‹ï¼š5åˆ†é’Ÿå†…æ”¶åˆ°10ä¸ªç‚¹èµ â†’ "xxx ç­‰10äººç‚¹èµäº†æ‚¨çš„å¸–å­"
- æŒ‰ç±»å‹åˆ†ç»„æ˜¾ç¤º

---

## 10. å®‰å…¨è®¾è®¡

### 10.1 è®¤è¯å®‰å…¨

- å¯†ç åŠ å¯†å­˜å‚¨ï¼ˆbcryptï¼‰
- JWT Token è®¤è¯
- åˆ·æ–° Token æœºåˆ¶
- ç™»å½•è®¾å¤‡ç®¡ç†

### 10.2 æ¥å£å®‰å…¨

- HTTPS å¼ºåˆ¶
- æ¥å£ç­¾åéªŒè¯
- è¯·æ±‚é¢‘ç‡é™åˆ¶
- SQL æ³¨å…¥é˜²æŠ¤
- XSS é˜²æŠ¤

### 10.3 æ•°æ®å®‰å…¨

- æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨ï¼ˆè”ç³»æ–¹å¼ï¼‰
- æ•°æ®å¤‡ä»½ç­–ç•¥
- æ“ä½œæ—¥å¿—è®°å½•
- éšç§æ•°æ®è„±æ•å±•ç¤º

### 10.4 é˜²åˆ·ç­–ç•¥

| æ“ä½œ | é™åˆ¶ |
|------|------|
| è·å–éªŒè¯ç  | 60ç§’/æ¬¡ï¼Œ10æ¬¡/å¤© |
| ç™»å½•å°è¯• | 5æ¬¡å¤±è´¥é”å®š30åˆ†é’Ÿ |
| å‘å¸– | 10ç¯‡/å¤© |
| å›å¤ | 20æ¡/å¤© |
| ç”³è¯·è”ç³»æ–¹å¼ | 20æ¬¡/å¤© |
| ç‚¹èµ | 100æ¬¡/å¤© |

---

## 11. æ€§èƒ½ä¼˜åŒ–

### 11.1 å‰ç«¯ä¼˜åŒ–

- è·¯ç”±æ‡’åŠ è½½
- å›¾ç‰‡æ‡’åŠ è½½
- è™šæ‹Ÿåˆ—è¡¨ï¼ˆé•¿åˆ—è¡¨åœºæ™¯ï¼‰
- èµ„æºå‹ç¼©ä¸ CDN
- Service Worker ç¼“å­˜

### 11.2 æ¥å£ä¼˜åŒ–

- æ•°æ®åˆ†é¡µ
- åˆç†ä½¿ç”¨ç¼“å­˜
- æ¥å£æ•°æ®ç²¾ç®€
- å¹¶è¡Œè¯·æ±‚ä¼˜åŒ–

### 11.3 æ•°æ®åº“ä¼˜åŒ–

- ç´¢å¼•ä¼˜åŒ–
- è¯»å†™åˆ†ç¦»
- çƒ­ç‚¹æ•°æ®ç¼“å­˜ï¼ˆRedisï¼‰
- åˆ†è¡¨ç­–ç•¥ï¼ˆå¸–å­é‡å¤§æ—¶ï¼‰

### 11.4 æœç´¢ä¼˜åŒ–

- Elasticsearch å…¨æ–‡æœç´¢
- æœç´¢ç»“æœç¼“å­˜
- çƒ­é—¨æœç´¢é¢„åŠ è½½

---

## é™„å½•

### A. æ¸¸æˆæœåŠ¡å™¨åˆ—è¡¨ï¼ˆç¤ºä¾‹ï¼‰

```json
[
    { "id": "changancheng", "name": "é•¿å®‰åŸ" },
    { "id": "jiangnan", "name": "æ±Ÿå—" },
    { "id": "donghai", "name": "ä¸œæµ·æ¸”æ‘" },
    { "id": "kunlun", "name": "æ˜†ä»‘å±±" },
    { "id": "penglai", "name": "è“¬è±ä»™å¢ƒ" }
]
```

### B. è£…å¤‡åˆ†ç±»åˆ—è¡¨ï¼ˆç¤ºä¾‹ï¼‰

```json
[
    {
        "id": "weapon",
        "name": "æ­¦å™¨",
        "children": [
            { "id": "sword", "name": "å‰‘" },
            { "id": "staff", "name": "æ³•æ–" },
            { "id": "fan", "name": "æ‰‡" },
            { "id": "blade", "name": "åˆ€" }
        ]
    },
    {
        "id": "armor",
        "name": "é˜²å…·",
        "children": [
            { "id": "head", "name": "å¤´ç›”" },
            { "id": "body", "name": "é“ ç”²" },
            { "id": "belt", "name": "è…°å¸¦" },
            { "id": "shoes", "name": "é‹å­" }
        ]
    },
    {
        "id": "accessory",
        "name": "é¥°å“",
        "children": [
            { "id": "necklace", "name": "é¡¹é“¾" },
            { "id": "ring", "name": "æˆ’æŒ‡" }
        ]
    },
    {
        "id": "mount",
        "name": "åéª‘"
    },
    {
        "id": "pet",
        "name": "å® ç‰©"
    }
]
```

### C. æ•æ„Ÿè¯åº“ï¼ˆç¤ºä¾‹åˆ†ç±»ï¼‰

- æ”¿æ²»æ•æ„Ÿè¯
- è‰²æƒ…ä½ä¿—è¯
- æš´åŠ›ææ€–è¯
- è¯ˆéª—ç›¸å…³è¯
- ç«å“å¹³å°åç§°
- æ¸¸æˆå°ç¦ç›¸å…³è¯

---

*æ–‡æ¡£ç»“æŸ*
